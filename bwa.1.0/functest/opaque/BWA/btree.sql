-- ---------------------------------------------------------------
-- 
-- Module          : Functional Test for UDT BWA
-- Filename        : btree.sql
-- Author          : generated by DBDK
-- PURPOSE
--    Tests btree routines for UDT BWA
-- 
-- ---------------------------------------------------------------

-- start transaction
begin work;


-- create btree index
create index BWA_bix on tst_BWA(value) using btree;

-- valid test data
update	tst_BWA
   set	value = "one.two.three.four"
 where	value = "one.two.three.four"
     ;

-- valid test data
update	tst_BWA
   set	value = "one..three.four"
 where	value = "one..three.four"
     ;

-- valid test data
update	tst_BWA
   set	value = "one...four"
 where	value = "one...four"
     ;

-- valid test data
update	tst_BWA
   set	value = "one..."
 where	value = "one..."
     ;

-- valid test data
update	tst_BWA
   set	value = "..."
 where	value = "..."
     ;

-- valid test data
update	tst_BWA
   set	value = "one..three."
 where	value = "one..three."
     ;

-- valid test data
update	tst_BWA
   set	value = ".two..four"
 where	value = ".two..four"
     ;


select * from tst_BWA;
  
select distinct value from tst_BWA;
  
-- The entries with errors have a NULL value.
-- Sorted results for the NULL values are different
-- depending on the server, causing the test to fail.
select * from tst_BWA 
where value is not NULL
order by value;

drop index BWA_bix;  

-- end transaction
commit work;

-- ---------------------------------------------------------------
-- EOF                                                            
-- ---------------------------------------------------------------
